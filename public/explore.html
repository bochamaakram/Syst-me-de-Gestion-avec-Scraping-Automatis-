<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#cba6f7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Knowway">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <title>Explore Courses | knowway</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/output.css">
</head>

<body>
    <nav class="navbar">
        <div class="container">
            <a href="learning.html" class="navbar-brand">knowway</a>
            <ul class="navbar-nav">
                <li><a href="explore.html" style="color:var(--primary)">Explore</a></li>
                <li><a href="in-person.html">In-Person</a></li>
                <li><a href="learning.html">My Learning</a></li>
            </ul>
            <div class="navbar-user" id="navbarUser"></div>
        </div>
    </nav>

    <section class="search-section">
        <div class="container">
            <button type="button" class="mobile-filter-toggle" onclick="toggleFilters()">
                <span class="icon-filter"></span>
                <span>Filters</span>
                <span class="icon-chevron-down"></span>
            </button>
            <div class="filter-row" id="filterRow">
                <input type="text" id="searchInput" class="filter-search" placeholder="Search courses...">
                <select id="categoryFilter" class="filter-select">
                    <option value="">All Categories</option>
                    <option value="dev">Development</option>
                    <option value="design">Design</option>
                    <option value="marketing">Marketing</option>
                </select>
                <select id="levelFilter" class="filter-select">
                    <option value="">All Levels</option>
                    <option value="beginner">Beginner</option>
                    <option value="intermediate">Intermediate</option>
                    <option value="advanced">Advanced</option>
                </select>
                <select id="sortFilter" class="filter-select">
                    <option value="newest">Newest</option>
                    <option value="popular">Popular</option>
                    <option value="title">A-Z</option>
                </select>
            </div>
        </div>
    </section>

    <main class="container" style="padding-top:var(--space-xl)">
        <div id="loadingState" class="empty-state">
            <div class="spinner"></div>
        </div>

        <p id="resultsCount" class="results-count">0 results</p>
        <div id="coursesGrid" class="courses-grid"></div>

        <div id="emptyState" class="empty-state hidden">
            <h3>No courses found</h3>
            <p>Try adjusting your filters</p>
        </div>

        <div id="pagination" class="pagination hidden">
            <button id="prevBtn" class="pagination-btn" onclick="changePage(-1)">←</button>
            <span id="paginationInfo" class="pagination-info"></span>
            <button id="nextBtn" class="pagination-btn" onclick="changePage(1)">→</button>
        </div>
    </main>

    <nav class="mobile-bottom-nav">
        <a href="explore.html" class="nav-item active">
            <span class="nav-icon icon-search"></span>
            <span class="nav-label">Explore</span>
        </a>
        <a href="in-person.html" class="nav-item">
            <span class="nav-icon icon-location"></span>
            <span class="nav-label">In-Person</span>
        </a>
        <a href="learning.html" class="nav-item">
            <span class="nav-icon icon-books"></span>
            <span class="nav-label">My Learning</span>
        </a>
    </nav>

    <div id="toastContainer" class="toast-container"></div>

    <script>
        function toggleFilters() {
            const row = document.getElementById('filterRow');
            const btn = document.querySelector('.mobile-filter-toggle');
            row.classList.toggle('show');
            btn.classList.toggle('active');
        }
    </script>
    <script src="js/api.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/pages/explore.js"></script>
    <script src="js/chatbot.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('ServiceWorker registered:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</body>

</html>