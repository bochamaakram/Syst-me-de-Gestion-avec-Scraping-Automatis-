<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course | knowway</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/course.css">
    <link rel="stylesheet" href="css/quiz.css">
</head>

<body>
    <nav class="navbar">
        <div class="container">
            <a href="learning.html" class="navbar-brand">knowway</a>
            <ul class="navbar-nav">
                <li><a href="explore.html">Explore</a></li>
                <li><a href="in-person.html">In-Person</a></li>
                <li><a href="learning.html">My Learning</a></li>
            </ul>
            <div class="navbar-user" id="navbarUser"></div>
        </div>
    </nav>

    <div id="loadingState" class="empty-state" style="padding:100px">
        <div class="spinner"></div>
    </div>

    <div id="courseContent" style="display:none">
        <div class="course-layout">
            <aside class="course-sidebar">
                <div class="course-sidebar-header">
                    <div class="course-sidebar-title" id="sidebarTitle"></div>
                    <div class="course-sidebar-meta" id="sidebarMeta"></div>
                </div>
                <ul class="lessons-nav" id="lessonsNav"></ul>
                <div style="margin-top:var(--space-lg)">
                    <button id="enrollBtn" class="btn btn-primary" style="width:100%" onclick="handleEnroll()">Enroll
                        Now</button>
                </div>
            </aside>

            <main class="course-content">
                <div class="mobile-nav">
                    <select id="mobileSelect" class="form-control" onchange="navigateToLesson(this.value)"></select>
                </div>

                <div id="overviewContent">
                    <div class="course-overview">
                        <div class="content-header">
                            <h1 id="courseTitle"></h1>
                            <p id="courseSubtitle" style="font-size:18px;color:var(--text-secondary);line-height:1.6">
                            </p>
                            <p class="progress-text" id="lessonCount"></p>
                        </div>
                        <img id="courseImage"
                            style="width:100%;border-radius:var(--radius-lg);margin-bottom:var(--space-xl)">

                        <div class="overview-section">
                            <h2>About This Course</h2>
                            <p id="courseDescription" style="line-height:1.8"></p>
                        </div>

                        <div class="overview-section" id="learnSection">
                            <h2>What You'll Learn</h2>
                            <ul id="whatYouLearn"></ul>
                        </div>

                        <div class="enroll-box">
                            <div class="enroll-price" id="coursePrice">Free</div>
                            <button id="mainEnrollBtn" class="btn btn-primary btn-lg" onclick="handleEnroll()">Enroll
                                Now</button>
                            <p style="font-size:13px;color:var(--text-muted);margin-top:var(--space-md)">Full lifetime
                                access</p>
                        </div>
                    </div>
                </div>

                <div id="lessonContent" style="display:none">
                    <div class="lesson-content">
                        <div id="lessonVideo"></div>
                        <article id="lessonBody"></article>
                    </div>

                    <div class="lesson-navigation">
                        <a id="prevBtn" class="nav-btn disabled" href="#">
                            <span>←</span>
                            <div>
                                <div class="nav-btn-label">Previous</div>
                                <div class="nav-btn-title" id="prevTitle">-</div>
                            </div>
                        </a>
                        <a id="nextBtn" class="nav-btn disabled" href="#">
                            <div style="text-align:right">
                                <div class="nav-btn-label">Next</div>
                                <div class="nav-btn-title" id="nextTitle">-</div>
                            </div>
                            <span>→</span>
                        </a>
                    </div>
                </div>

                <!-- Quiz Section -->
                <div id="quizContent" style="display:none">
                    <div class="quiz-container">
                        <div class="quiz-header">
                            <h2 id="quizTitle">Final Quiz</h2>
                            <p id="quizInfo">Answer all questions to complete this course. You need 85% to pass.</p>
                        </div>
                        <div id="quizQuestions"></div>
                        <div class="quiz-actions">
                            <button id="submitQuizBtn" class="btn btn-primary btn-lg" onclick="submitQuiz()">Submit
                                Quiz</button>
                        </div>
                        <div id="quizResult" class="quiz-result hidden"></div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <div id="toastContainer" class="toast-container"></div>

    <script src="js/api.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/pages/course.js"></script>
</body>

</html>